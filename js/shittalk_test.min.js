$(document).ready(function(){function g(a){var b={query:"get_RandomRows"};b.limit=a;d(b).done(function(a){for(var b=[],f=0;f<a.length;f++){var e=a[f];!0===(e.biased||"")&&console.log("Biased");""!==(e.text||"")&&b.push('<tr id="jumboid_'+e.id+'"><td><span class="glyphicon glyphicon-arrow-up text-success" style="font-size:2.0em;"  aria-hidden="true"> </span> <span class="glyphicon glyphicon-arrow-down text-danger" style="font-size:2.0em;" aria-hidden="true"> </span></td><td><h4>'+e.text+"</h4></td></tr>")}""!==
b&&$("#jumbotron_tbody").html(b);$("#jumbotron_tbody").find("td .glyphicon-arrow-up").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){$(this).parent().next().text();var b=$(this).parent().parent();$(this).attr("disabled","disabled");$(this).parent().parent().addClass("selected-st");a={};var c=$(this).parent().parent().attr("id");a.id=c.split("_")[1];a.query="upvote_Row";d(a).done(function(a){b.addClass("bg-success");h()})}else console.log("already upvoted")});
$("#jumbotron_tbody").find("td .glyphicon-arrow-down").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){$(this).parent().next().text();var b=$(this).parent().parent();$(this).attr("disabled","disabled");$(this).parent().parent().addClass("selected-st");a={};var c=$(this).parent().parent().attr("id");a.id=c.split("_")[1];a.query="downvote_Row";d(a).done(function(a){b.addClass("bg-danger");h()})}else console.log("already downvoted")})})}function h(){3===$("#jumbotron_tbody").find(".selected-st").length&&
g(3)}function k(){var a=$("#rate_more_tbody"),b=a.find(".bg-success").length;25===a.find(".bg-danger").length+b&&location.reload()}function e(){$(".badge").each(function(){var a=$(this).text();0>a?$(this).css("background-color","#a94442"):0<a&&$(this).css("background-color","#3c763d")})}function d(a){return $.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",method:"POST",dataType:"json",data:JSON.stringify(a),error:function(a){console.log(a)}})}$("#create_shittalk_Btn").button().click(function(a){a.preventDefault();
var b=this,c=$("#create_shittalk_Text").val();a=c.toLowerCase();S(a).contains("http://")||S(a).contains("www.")||S(a).contains(".com")?($(b).parent().parent().addClass("has-error"),$("#helpBlock2").removeClass("hidden")):S(a).contains("nigger")?($(b).parent().parent().addClass("has-error"),$("#helpBlock3").removeClass("hidden")):(a={},a.create_shittalk_Text=c,a.query="check_IfDuplicate",d(a).done(function(a){console.log(a);1>a?(a={},a.create_shittalk_Text=c,a.query="create_Shittalk",d(a).done(function(a){!0===
a&&(console.log("submission successful"),location.reload())})):($(b).parent().parent().addClass("has-error"),$("#helpBlock").removeClass("hidden"))}))});g(3);(function(){d({query:"get_RecentList"}).done(function(a){a=a.join("\n");$("#recent_listGroup").html(a);e()})})();(function(){d({query:"get_TopList"}).done(function(a){a=a.join("\n");$("#top_listGroup").html(a);e()})})();(function(){d({query:"get_RandomList"}).done(function(a){a=a.join("\n");$("#random_listGroup").html(a);e()})})();(function(){d({query:"get_RateMoreTableRows"}).done(function(a){a=
a.join("\n");$("#rate_more_tbody").html(a);e()})})();$("#recent_listGroup").find(".glyphicon-arrow-up").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent();b.text();$(this).attr("disabled","disabled");a={};var c=$(this).parent().attr("id");a.id=c.split("_")[1];a.query="upvote_Row";d(a).done(function(a){b.removeClass("list-group-item-danger");b.addClass("list-group-item-success")})}else console.log("already upvoted")});$("#recent_listGroup").find(".glyphicon-arrow-down").button().click(function(a){a.preventDefault();
if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent();b.text();$(this).attr("disabled","disabled");a={};var c=$(this).parent().attr("id");a.id=c.split("_")[1];a.query="downvote_Row";d(a).done(function(a){b.removeClass("list-group-item-success");b.addClass("list-group-item-danger")})}else console.log("already downvoted")});$("#top_listGroup").find(".glyphicon-arrow-up").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent();b.text();
$(this).attr("disabled","disabled");a={};var c=$(this).parent().attr("id");a.id=c.split("_")[1];a.query="upvote_Row";d(a).done(function(a){b.removeClass("list-group-item-danger");b.addClass("list-group-item-success")})}else console.log("already upvoted")});$("#top_listGroup").find(".glyphicon-arrow-down").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent();b.text();$(this).attr("disabled","disabled");a={};var c=$(this).parent().attr("id");
a.id=c.split("_")[1];a.query="downvote_Row";d(a).done(function(a){b.removeClass("list-group-item-success");b.addClass("list-group-item-danger")})}else console.log("already downvoted")});$("#rate_more_tbody").find("td .glyphicon-arrow-up").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){$(this).parent().next().text();var b=$(this).parent().parent();$(this).attr("disabled","disabled");a={};var c=$(this).parent().parent().attr("id");a.id=c.split("_")[1];a.query=
"upvote_Row";d(a).done(function(a){b.removeClass("bg-danger");b.addClass("bg-success");k()})}else console.log("already upvoted")});$("#rate_more_tbody").find("td .glyphicon-arrow-down").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){$(this).parent().next().text();var b=$(this).parent().parent();$(this).attr("disabled","disabled");a={};var c=$(this).parent().parent().attr("id");a.id=c.split("_")[1];a.query="downvote_Row";d(a).done(function(a){b.addClass("bg-danger");
k()})}else console.log("already downvoted")})});
