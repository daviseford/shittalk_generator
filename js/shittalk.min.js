$(document).ready(function(){function m(){c({query:"get_RateMoreTableRows"}).done(function(a){var b=$("#rate_more_tbody");a=a.join("\n");b.html(a);b.find("td .glyphicon-arrow-up").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var e=$(this).parent().parent();$(this).attr("disabled","disabled");a={};var b=e.attr("id");a.id=b.split("_")[1];a.query="upvote_Row";c(a).done(function(a){e.removeClass("bg-danger");e.addClass("bg-success");h()})}else console.log("Already upvoted")});
b.find("td .glyphicon-arrow-down").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent().parent();$(this).attr("disabled","disabled");a={};var f=b.attr("id");a.id=f.split("_")[1];a.query="downvote_Row";c(a).done(function(a){b.addClass("bg-danger");h()})}else console.log("Already downvoted")});d()})}function n(){c({query:"get_TotalBindCount"}).done(function(a){$("#TotalBindCount").text(a)})}function p(){c({query:"get_IncludedBindCount"}).done(function(a){$("#IncludedBindCount").text(a)})}
function k(a){var b={query:"get_RandomRows"};b.limit=a;c(b).done(function(a){for(var b=$("#jumbotron_tbody"),f=[],d=0;d<a.length;d++){var g=a[d];!0===(g.biased||"")&&console.log("Biased");""!==(g.text||"")&&f.push('<tr id="jumboid_'+g.id+'"><td><span class="glyphicon glyphicon-arrow-up text-success" style="font-size:2.0em;"  aria-hidden="true"> </span> <span class="glyphicon glyphicon-arrow-down text-danger" style="font-size:2.0em;" aria-hidden="true"> </span></td><td><h4>'+g.text+"</h4></td></tr>")}""!==
f&&b.html(f);b.find("td .glyphicon-arrow-up").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent().parent();$(this).attr("disabled","disabled");b.addClass("selected-st");a={};var e=b.attr("id");a.id=e.split("_")[1];a.query="upvote_Row";c(a).done(function(a){b.addClass("bg-success");l()})}else console.log("Already upvoted")});b.find("td .glyphicon-arrow-down").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=
$(this).parent().parent();$(this).attr("disabled","disabled");b.addClass("selected-st");a={};var e=b.attr("id");a.id=e.split("_")[1];a.query="downvote_Row";c(a).done(function(a){b.addClass("bg-danger");l()})}else console.log("Already downvoted")})})}function l(){3===$("#jumbotron_tbody").find(".selected-st").length&&k(3)}function h(){var a=$("#rate_more_tbody"),b=a.find(".bg-success").length;25===a.find(".bg-danger").length+b&&location.reload()}function d(){$(".badge").each(function(){var a=$(this).text();
0>a?$(this).css("background-color","#a94442"):0<a&&$(this).css("background-color","#3c763d")})}function c(a){return $.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",method:"POST",dataType:"json",data:JSON.stringify(a),error:function(a){console.log(a)}})}k(3);(function(){c({query:"get_RecentList"}).done(function(a){a=a.join("\n");$("#recent_listGroup").html(a);d()})})();(function(){c({query:"get_TopList"}).done(function(a){a=a.join("\n");$("#top_listGroup").html(a);
d()})})();(function(){c({query:"get_RandomList"}).done(function(a){a=a.join("\n");$("#random_listGroup").html(a);d()})})();$(window).ready(function(){$(this).one("scroll",function(){p();n();m()})});$("#create_shittalk_Btn").button().click(function(a){a.preventDefault();var b=$(this).parent().parent(),d=$("#create_shittalk_Text").val();a=d.toLowerCase();S(a).contains("http://")||S(a).contains("https://")||S(a).contains("www.")||S(a).contains(".com")?(b.addClass("has-error"),$("#helpBlock2").removeClass("hidden")):
S(a).contains("nigger")||S(a).contains("faggot")?(b.addClass("has-error"),$("#helpBlock3").removeClass("hidden")):(a={},a.create_shittalk_Text=d,a.query="check_IfDuplicate",c(a).done(function(a){1>a?(a={},a.create_shittalk_Text=d,a.query="create_Shittalk",c(a).done(function(a){!0===a&&(console.log("Submission successful"),location.reload())})):(b.addClass("has-error"),$("#helpBlock").removeClass("hidden"))}))})});
