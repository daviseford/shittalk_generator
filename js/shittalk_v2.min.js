$(document).ready(function(){function m(){$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",data:JSON.stringify({query:"get_RateMoreTableRows"}),success:function(a){var c=$("#rate_more_tbody");a=a.join("\n");c.html(a);c.find("td .glyphicon-arrow-up").click(function(a){a.preventDefault();h.bind(this)(!0)});c.find("td .glyphicon-arrow-down").click(function(a){a.preventDefault();h.bind(this)(!1)});g()},error:function(a){console.log(a)}})}
function h(a){if(!0!==$(this).is("[disabled=disabled]")){var c=$(this).parent().parent();$(this).attr("disabled","disabled");var d={},b=c.attr("id");d.id=b.split("_")[1];d.query=a?"upvote_Row":"downvote_Row";$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",data:JSON.stringify(d),success:function(){c.addClass(a?"bg-success":"bg-danger");var b=$("#rate_more_tbody"),d=b.find(".bg-success").length;25===b.find(".bg-danger").length+d&&
location.reload()},error:function(a){console.log(a)}})}}function n(){$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",data:JSON.stringify({query:"get_TotalBindCount"}),success:function(a){$("#TotalBindCount").text(a)},error:function(a){console.log(a)}})}function p(){$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",data:JSON.stringify({query:"get_IncludedBindCount"}),
success:function(a){$("#IncludedBindCount").text(a)},error:function(a){console.log(a)}})}function k(a){var c={query:"get_RandomRows"};c.limit=a;$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",data:JSON.stringify(c),success:function(a){q(a)}})}function q(a){for(var c=$("#jumbotron_tbody"),d=[],b=0;b<a.length;b++){var e=a[b],f=e.text||"",e=e.id||"";""!==f&&""!==e&&d.push('<tr id="jumboid_'+e+'"><td><span class="glyphicon glyphicon-arrow-up text-success" style="font-size:2.0em;"  aria-hidden="true"> </span> <span class="glyphicon glyphicon-arrow-down text-danger" style="font-size:2.0em;" aria-hidden="true"> </span></td><td><h4>'+
f+"</h4></td></tr>")}""!==d&&c.html(d.join("\n"));c.find("td .glyphicon-arrow-up").click(function(a){a.preventDefault();l.bind(this)(!0)});c.find("td .glyphicon-arrow-down").click(function(a){a.preventDefault();l.bind(this)(!1)})}function l(a){if(!0!==$(this).is("[disabled=disabled]")){var c=$(this).parent().parent();$(this).attr("disabled","disabled");c.addClass("selected-st");var d={},b=c.attr("id");d.id=b.split("_")[1];d.query=a?"upvote_Row":"downvote_Row";$.ajax({url:"php/controller/controller.php",
contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",data:JSON.stringify(d),success:function(){c.addClass(a?"bg-success":"bg-danger");3===$("#jumbotron_tbody").find(".selected-st").length&&k(3)},error:function(a){console.log(a)}})}}function g(){$(".badge").each(function(){var a=$(this).text();0>a?$(this).css("background-color","#a94442"):0<a&&$(this).css("background-color","#3c763d")})}k(3);(function(){$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",
type:"POST",dataType:"json",data:JSON.stringify({query:"get_RecentList"}),success:function(a){for(var c=[],d=0;d<a.length;d++){var b=a[d],e=b.id||"",f=b.netVotes||"",b=b.text||"";""!==e&&""!==f&&""!==b&&c.push('<li class="list-group-item" id="recentid_'+e+'"><span class="badge">'+f+"</span> "+b+"</li>")}a=c.join("\n");$("#recent_listGroup").html(a);g()},error:function(a){console.log(a)}})})();(function(){$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",type:"POST",
dataType:"json",data:JSON.stringify({query:"get_TopList"}),success:function(a){for(var c=[],d=0;d<a.length;d++){var b=a[d],e=b.id||"",f=b.netVotes||"",b=b.text||"";""!==e&&""!==f&&""!==b&&c.push('<li class="list-group-item" id="topid_'+e+'"><span class="badge">'+f+"</span> "+b+"</li>")}a=c.join("\n");$("#top_listGroup").html(a);g()},error:function(a){console.log(a)}})})();(function(){$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",
data:JSON.stringify({query:"get_RandomList"}),success:function(a){for(var c=[],d=0;d<a.length;d++){var b=a[d],e=b.id||"",f=b.netVotes||"",b=b.text||"";""!==e&&""!==f&&""!==b&&c.push('<li class="list-group-item" id="randomid_'+e+'"><span class="badge">'+f+"</span> "+b+"</li>")}a=c.join("\n");$("#random_listGroup").html(a);g()},error:function(a){console.log(a)}})})();$(window).ready(function(){$(this).one("scroll",function(){p();n();m()})});$("#create_shittalk_Btn").click(function(a){a.preventDefault();
var c=$(this).parent().parent(),d=$("#create_shittalk_Text").val();a=d.toLowerCase();-1<a.indexOf("http://")||-1<a.indexOf("https://")||-1<a.indexOf("www.")||-1<a.indexOf(".com")?(c.addClass("has-error"),$("#helpBlock2").removeClass("hidden")):-1<a.indexOf("nigger")||-1<a.indexOf("faggot")?(c.addClass("has-error"),$("#helpBlock3").removeClass("hidden")):(a={},a.create_shittalk_Text=d,a.query="check_IfDuplicate",$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",
type:"POST",dataType:"json",data:JSON.stringify(a),success:function(a){1>a?(a={},a.create_shittalk_Text=d,a.query="create_Shittalk",$.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",data:JSON.stringify(a),success:function(a){!0===a&&(console.log("Submission successful"),location.reload())},error:function(a){console.log(a)}})):(c.addClass("has-error"),$("#helpBlock").removeClass("hidden"))},error:function(a){console.log(a)}}))})});
