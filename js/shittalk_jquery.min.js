$(document).ready(function(){function p(){d({query:"get_RateMoreTableRows"}).done(function(a){var c=$("#rate_more_tbody");a=a.join("\n");c.html(a);c.find("td .glyphicon-arrow-up").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent().parent();$(this).attr("disabled","disabled");a={};var c=b.attr("id");a.id=c.split("_")[1];a.query="upvote_Row";d(a).done(function(){b.removeClass("bg-danger");b.addClass("bg-success");l()})}else console.log("Already upvoted")});
c.find("td .glyphicon-arrow-down").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent().parent();$(this).attr("disabled","disabled");a={};var c=b.attr("id");a.id=c.split("_")[1];a.query="downvote_Row";d(a).done(function(){b.addClass("bg-danger");l()})}else console.log("Already downvoted")});f()})}function q(){d({query:"get_TotalBindCount"}).done(function(a){$("#TotalBindCount").text(a)})}function r(){d({query:"get_IncludedBindCount"}).done(function(a){$("#IncludedBindCount").text(a)})}
function m(a){var c={query:"get_RandomRows"};c.limit=a;d(c).done(function(a){for(var b=$("#jumbotron_tbody"),c=[],e=0;e<a.length;e++){var h=a[e],f=h.text||"",h=h.id||"";""!==f&&""!==h&&c.push('<tr id="jumboid_'+h+'"><td><span class="glyphicon glyphicon-arrow-up text-success" style="font-size:2.0em;"  aria-hidden="true"> </span> <span class="glyphicon glyphicon-arrow-down text-danger" style="font-size:2.0em;" aria-hidden="true"> </span></td><td><h4>'+f+"</h4></td></tr>")}""!==c&&b.html(c);b.find("td .glyphicon-arrow-up").button().click(function(a){a.preventDefault();
if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent().parent();$(this).attr("disabled","disabled");b.addClass("selected-st");a={};var c=b.attr("id");a.id=c.split("_")[1];a.query="upvote_Row";d(a).done(function(){b.addClass("bg-success");n()})}else console.log("Already upvoted")});b.find("td .glyphicon-arrow-down").button().click(function(a){a.preventDefault();if(!0!==$(this).is("[disabled=disabled]")){var b=$(this).parent().parent();$(this).attr("disabled","disabled");b.addClass("selected-st");
a={};var c=b.attr("id");a.id=c.split("_")[1];a.query="downvote_Row";d(a).done(function(){b.addClass("bg-danger");n()})}else console.log("Already downvoted")})})}function n(){3===$("#jumbotron_tbody").find(".selected-st").length&&m(3)}function l(){var a=$("#rate_more_tbody"),c=a.find(".bg-success").length;25===a.find(".bg-danger").length+c&&location.reload()}function f(){$(".badge").each(function(){var a=$(this).text();0>a?$(this).css("background-color","#a94442"):0<a&&$(this).css("background-color",
"#3c763d")})}function d(a){return $.ajax({url:"php/controller/controller.php",contentType:"application/json; charset=utf-8",method:"POST",dataType:"json",data:JSON.stringify(a),error:function(a){console.log(a)}})}m(3);(function(){d({query:"get_RecentList"}).done(function(a){for(var c=[],k=0;k<a.length;k++){var b=a[k],d=b.id||"",e=b.netVotes||"",b=b.text||"";""!==d&&""!==e&&""!==b&&c.push('<li class="list-group-item" id="recentid_'+d+'"><span class="badge">'+e+"</span> "+b+"</li>")}a=c.join("\n");
$("#recent_listGroup").html(a);f()})})();(function(){d({query:"get_TopList"}).done(function(a){for(var c=[],d=0;d<a.length;d++){var b=a[d],g=b.id||"",e=b.netVotes||"",b=b.text||"";""!==g&&""!==e&&""!==b&&c.push('<li class="list-group-item" id="topid_'+g+'"><span class="badge">'+e+"</span> "+b+"</li>")}a=c.join("\n");$("#top_listGroup").html(a);f()})})();(function(){d({query:"get_RandomList"}).done(function(a){for(var c=[],d=0;d<a.length;d++){var b=a[d],g=b.id||"",e=b.netVotes||"",b=b.text||"";""!==
g&&""!==e&&""!==b&&c.push('<li class="list-group-item" id="randomid_'+g+'"><span class="badge">'+e+"</span> "+b+"</li>")}a=c.join("\n");$("#random_listGroup").html(a);f()})})();$(window).ready(function(){$(this).one("scroll",function(){r();q();p()})});$("#create_shittalk_Btn").button().click(function(a){a.preventDefault();var c=$(this).parent().parent(),f=$("#create_shittalk_Text").val();a=f.toLowerCase();-1<a.indexOf("http://")||-1<a.indexOf("https://")||-1<a.indexOf("www.")||-1<a.indexOf(".com")?
(c.addClass("has-error"),$("#helpBlock2").removeClass("hidden")):-1<a.indexOf("nigger")||-1<a.indexOf("faggot")?(c.addClass("has-error"),$("#helpBlock3").removeClass("hidden")):(a={},a.create_shittalk_Text=f,a.query="check_IfDuplicate",d(a).done(function(a){1>a?(a={},a.create_shittalk_Text=f,a.query="create_Shittalk",d(a).done(function(a){!0===a&&(console.log("Submission successful"),location.reload())})):(c.addClass("has-error"),$("#helpBlock").removeClass("hidden"))}))})});
